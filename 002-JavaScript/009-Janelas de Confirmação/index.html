<!--
/********* Web Technology Development Training **************************************************
 * Instructor  : Ivan J. Borchardt - linkedin.com/in/ivan-borchardt/
 *                                 - github.com/Ivan-J-Borchardt
 * Description : DOM Manipulation - Confirmation Windows
 * Date        : 01.2021 
 ************************************************************************************************/
--->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <Style>
            #toast{
                position:fixed;
                top:0;
                left:50%;
                transform:translate(-50%);
                background-color:rgb(149, 7, 7);
                color:#fff;
                padding:16px;
                border-radius:4px;
                text-align:center;
                z-index:1;
                box-shadow:0 0 20px rgba(0,0,0,0.3);
                visibility:hidden;
                opacity:0;
                }

                #toast.show{
                visibility:visible;
                animation:fadeInOut 3s;
                }

                @keyframes fadeInOut{
                5%,95%{opacity:1;top:50px}
                15%,85%{opacity:1;top:30px}
                }
        </Style>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">

        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <Script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></Script>
    </head>
    <body>
        <header>
            <h1>Exemplos de Janelas de Confirmação</h1>
        </header>
        <main>
            <div id="toast"></div>
            <form action="">
                <input type="button" onclick="alerta()"    value="Alerta">
                <input type="button" onclick="confirmar()" value="Confirmar">   
                <input type="button" onclick="perguntar()" value="Perguntar"> 
                <br><br>
                
                <input type="button" onclick="toastInfo()" value="Toast Info">
                <input type="button" onclick="toastWarning()" value="Toast Warning">
                <input type="button" onclick="toastSuccess()" value="Toast Success">
                <input type="button" onclick="toastError()" value="Toast Error">
                <br><br>

                <input type="button" onclick="showToast('Toast text')" value="Toast">
                
            </form>
        </main>

        <script>
            
            //Alertas 
            //-----------------------------------
            /**
             * Sua principal função é mostrar ao usuário uma mensagem e um botão de confirmação 
             * de que o usuário tenha visto a mensagem. Para chamar essa função, basta utilizarmos
             *  o código alert(), que receberá uma string(mensagem que será exibida ao usuário).
             * Elas são muito usadas em validações de formulários e/ou bloqueio de ações do browser.
             */
            function alerta(){
                console.log("antes do alert ");
                alert("Olá isso é um alerta")    
                console.log("depois do alert ");
            }


            //Janelas de confirmação 
            //-----------------------------------------
            /**
             * A função de confirmação é um pouco diferente da função alert em JavaScript, dessa vez
             *  são exibidos dois botões, um de OK e outro de CANCELAR, separados por valores true 
             * (verdadeiro) e false (falso).
             * 
             * A função confirm() é muito utilizada em sistemas que utilizamos estruturas condicionais,
             * como confirmação de alteração/exclusão de algum registro do banco de dados.
             */
            function confirmar(){
                var confirma;
             
                confirma = window.confirm("Confirma a exclusão?");
                
                if (confirma) {
                    console.log("Você clicou em confirmar");
                }else{
                    console.log("Você clicou em cancelar");
                }
            }


            //Alert de Prompt 
            //-----------------------------------------
            /**
             * O prompt é um pouco diferente do alert() e do confirm(), pois ele necessita que o usuário 
             * insira algum valor, ou seja, precisa de uma interação direta do usuário para que ele funcione.
             * Para chamarmos a função utilizamos o prompt(), o qual irá receber uma string(mensagem) que 
             * será exibida, normalmente em forma de pergunta, ao usuário.
             */

            function perguntar(){
                var idade; 

                idade = window.prompt("Digite sua idade:"); 
                console.log(idade); 
            }


            //Toast 
            //-----------------------------------------
            /**
             * O componente toast é como uma caixa de alerta que só é exibida por alguns segundos quando algo 
             * acontece (ou seja, quando o usuário clica em um botão, envia um formulário etc.).
             * O Toast é fornecido por meio de uma biblioteca JavaScript (existem várias, CodeSeven Toastr, Bootstrap, etc). 
             * https://github.com/CodeSeven/toastr
             * https://codeseven.github.io/toastr/
             * https://codeseven.github.io/toastr/demo.html  --> Para parametrizar o toast
             * https://johnpapa.net/toastr100beta/
             * https://www.devmedia.com.br/exibindo-notificacoes-com-toastr/37228
             * Existem 4 métodos para aprender. informação, aviso, sucesso e erro. Cada um tem uma mensagem e um título opcional.
             *
             * 
             */
            
            // Display a info toast, with no title
            function toastInfo() {
                toastr.options = {
                    "closeButton": true,
                    "debug": false,
                    "newestOnTop": false,
                    "progressBar": true,
                    "positionClass": "toast-bottom-right",
                    "preventDuplicates": false,
                    "onclick": null,
                    "showDuration": "300",
                    "hideDuration": "1000",
                    "timeOut": "5000",
                    "extendedTimeOut": "1000",
                    "showEasing": "swing",
                    "hideEasing": "linear",
                    "showMethod": "fadeIn",
                    "hideMethod": "fadeOut"
                };

                toastr.info("Informação...");
            }
            
            // Display a warning toast, with no title
            function toastWarning(){
                toastr.warning('My name is Inigo Montoya. You Killed my father, prepare to die!');
            }


            // Display a success toast, with a title
            function toastSuccess(){
                toastr.success('Have fun storming the castle!', 'Miracle Max Says');
            }
            //


            // Display an error toast, with a title
            function toastError() {
                toastr.error('I do not think that word means what you think it means.', 'Inconceivable!'); 
            }
            //


            //Toast só com HTML, CSS e JS... https://www.youtube.com/watch?v=OtjcRjtDnz0
            function showToast(text){
                var x=document.getElementById("toast");
                x.classList.add("show");
                x.innerHTML=text;
                setTimeout(function(){
                    x.classList.remove("show");
                },3000);
            }
        </script>   
    </body>
</html>